<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="beesUser">
<select id="userCount" resultType="int">
select count(*) as userCount
from bees_user
where bees_no = #{beesNo}
and user_block='N'
and user_del_yn='N'
and user_auth_yn='Y'
</select>
<select id="userSelectOne" resultType="beesUser">
select
user_no as userNo,
bees_no as beesNo,
member_no as memberNo,
user_name as userName,
user_class as userClass,
user_block as userBlock,
user_del_yn as userDelYN
from bees_user
where member_no = #{memberNo}
and bees_no = #{beesNo}
and user_block='N'
and user_del_yn='N'
and user_auth_yn='Y'
</select>
<insert id="insertBeesUser" parameterType="beesUser">
insert into bees_user values(
user_seq.nextval, #{beesNo}, #{memberNo}, #{userName}, default, default, default, default, default, default)
</insert>
<select id="selectAllBeesNo" resultType="int">
select bees_no from bees_user where member_no=#{memberNo}
</select>
</mapper>
